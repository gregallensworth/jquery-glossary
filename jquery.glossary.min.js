(function(e){e.extend(e.fn,{glossary:function(t){t=e.extend({cssClass:"glossary",terms:{}},t);var n={};for(var r in t.terms)n[r.toLowerCase()]=t.terms[r];t.terms=n;var i=1;this.each(function(){var n=e(this);setTimeout(function(){for(r in t.terms){var i=r.replace("-","\\").replace("(","\\(").replace(")","\\)").replace("*","\\*").replace(".","\\.").replace("+","\\+");i=new RegExp('([^">])('+i+')([^<"])',"gi");var s=n.html().replace(i,function(e,t,n,r,i,s){return t+'<span class="glossary">'+n+"</span>"+r});n.html(s)}n.find("span.glossary").each(function(){var n=e(this).text().toLowerCase();var r=t.terms[n];e(this).prop("title",r)})},100*i++)});return this}})})(jQuery)
